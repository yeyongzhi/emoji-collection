import{d as V,b as s,c,k as b,g as t,p as D,q as C,u as B,o as N,e as u,_ as L,h as g,i as k,f as r,F as j,r as h,t as $,s as z,j as F,l as _}from"./index-BBZDSuIv.js";import{f as T,_ as U,a as q,c as A,d as I,e as K,b as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bg4e5zM3.js";import{_ as P}from"./ScrollArea.vue_vue_type_script_setup_true_lang-DlBd1_6x.js";import{E as G}from"./EmojiItem-NQWx0iT2.js";import"./useNonce-Dn6erHnf.js";import"./index-DlnSDHpW.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-C1s6npUU.js";const H=V({__name:"CardDescription",props:{class:{}},setup(x){const y=x;return(m,p)=>(s(),c("p",{"data-slot":"card-description",class:b(t(D)("text-muted-foreground text-sm",y.class))},[C(m.$slots,"default")],2))}}),J={class:"w-full h-full flex flex-col gap-y-(--margin-l)"},O={key:0,class:"h-full w-full flex justify-center items-center"},Q={class:"w-full grid grid-cols-10 gap-(--margin-s)"},le=V({__name:"index",setup(x){const y=B(),m=_([{name:"程序员常用Emoji",url:"./coderEmoji.json",key:"coder"},{name:"红书常用Emoji",url:"./redbookEmoji.json",key:"redbook"},{name:"社交媒体通用Emoji",url:"./social.json",key:"social"},{name:"电商 & 带货文案Emoji",url:"./ecommerce.json",key:"ecommerce"},{name:"学习 & 考研党 Emoji",url:"./study.json",key:"study"}]),p=_({}),d=_({}),i=_({}),w=o=>{if(!p.value[o])return[];let n=p.value[o].find(e=>i.value[o]&&e.key===i.value[o]);return n?n.data.map(e=>{let l=y.emojiData.find(f=>f.hexcode===e.hexcode);return l?{...e,...l}:e}):[]},v=_(!1),S=()=>{v.value=!0;let o=m.value.map(n=>fetch(n.url).then(a=>a.json()));Promise.allSettled(o).then(n=>{v.value=!1;let a=n.filter(e=>e.status==="fulfilled").map(e=>e.value);m.value.forEach((e,l)=>{let f=a[l];e.name=f.name,p.value[e.key]=f.data,d.value[e.key]=f.data.map(E=>({key:E.key,name:E.name})),d.value[e.key].length>0&&(i.value[e.key]=d.value[e.key][0].key)})})};return N(()=>{S()}),(o,n)=>(s(),c("div",J,[v.value?(s(),c("div",O,[u(t(L),{class:"size-6 mr-(--margin-xs)"}),n[0]||(n[0]=g(" 正在加载中 ",-1))])):(s(),k(t(P),{key:1,class:"w-full h-full"},{default:r(()=>[(s(!0),c(j,null,h(m.value,(a,e)=>(s(),k(t(T),{key:a.key,class:b(`${e===m.value.length-1?"mt-0":"mb-(--margin-xl)"}`)},{default:r(()=>[u(t(U),null,{default:r(()=>[u(t(q),{class:"app_page_title w-full font-bold text-xl"},{default:r(()=>[g($(a.name),1)]),_:2},1024),u(t(H),null,{default:r(()=>[d.value[a.key]&&d.value[a.key].length>1?(s(),k(t(A),{key:0,modelValue:i.value[a.key],"onUpdate:modelValue":l=>i.value[a.key]=l,class:"mt-(--margin-s)"},{default:r(()=>[u(t(I),null,{default:r(()=>[(s(!0),c(j,null,h(d.value[a.key],l=>(s(),k(t(K),{value:l.key,key:l.key},{default:r(()=>[g($(l.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])):z("",!0)]),_:2},1024)]),_:2},1024),u(t(M),null,{default:r(()=>[F("div",Q,[(s(!0),c(j,null,h(w(a.key),l=>(s(),c("div",{key:l.key},[u(G,{data:l},null,8,["data"])]))),128))])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1}))]))}});export{le as default};
