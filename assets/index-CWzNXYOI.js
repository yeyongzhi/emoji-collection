import{_ as T}from"./ScrollArea.vue_vue_type_script_setup_true_lang-DlBd1_6x.js";import{_ as E,a as I,b as D,c as G,d as U,e as F,f as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bg4e5zM3.js";import{_ as J}from"./Input.vue_vue_type_script_setup_true_lang-Cvs_ONjG.js";import{d as M,u as A,w as P,o as R,n as z,a as L,b as o,c as i,e as t,f as n,g as s,h as $,F as p,r as g,i as j,t as B,j as h,k as X,l as k,m as q}from"./index-BBZDSuIv.js";import{E as S}from"./EmojiItem-NQWx0iT2.js";import"./useNonce-Dn6erHnf.js";import"./index-DlnSDHpW.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-C1s6npUU.js";const H={class:"h-full w-full flex justify-between items-center gap-x-(--margin-l)"},K={class:"flex-1 h-full flex flex-col gap-y-(--margin-l) overflow-hidden"},Q={class:"flex items-center gap-(--margin-xs)"},W={class:"w-full flex-1 overflow-hidden"},Y={class:"w-full grid grid-cols-10 gap-(--margin-s)"},Z={key:1,class:"w-full grid grid-cols-10 gap-(--margin-s)"},x="emoji-group-",ue=M({__name:"index",setup(ee){const d=A(),r=k(""),f=k([]),C=()=>{let a=d.emojiData;a=a.filter(e=>e.label&&e.label.includes(r.value)||e.tags&&e.tags.includes(r.value)||e.unicode&&e.unicode.includes(r.value)),f.value=a};let y=null;P(r,(a,e)=>{a!==e&&a.trim().length>0?(y&&clearInterval(y),y=setTimeout(()=>{C()},500)):f.value=[]});const w=k([]),m=q(()=>JSON.parse(JSON.stringify(d.emojiGroupData))),N=async()=>{m.value.length>0&&(c.value=m.value[0].key);const a=d.emojiData;let e=[];m.value.forEach((l,_)=>{e.push({key:l.key,name:l.message,children:a.filter(v=>v.group===_)})}),w.value=e};let u=null;const c=k(void 0),O=a=>{const e=document.getElementById(`${x}${a}`);if(!e)return!1;u&&u.disconnect(),e.scrollIntoView({behavior:"instant",block:"start"}),c.value=a,setTimeout(()=>{b()},1e3)};function b(){d.emojiGroupData.forEach(a=>{const e=document.getElementById(`${x}${a.key}`);e&&u?.observe(e)})}return R(()=>{N(),u=new IntersectionObserver(a=>{a.forEach(e=>{const l=e.target.id.replace(x,"");e.isIntersecting&&(c.value=l)})},{rootMargin:"-20% 0% -80% 0%",threshold:0}),z(()=>{b()})}),L(()=>{u?.disconnect()}),(a,e)=>(o(),i("div",H,[t(s(V),{class:"h-full w-[150px]"},{default:n(()=>[t(s(E),null,{default:n(()=>[t(s(I),{class:"app_page_title font-bold text-lg"},{default:n(()=>[...e[2]||(e[2]=[$("快捷导航",-1)])]),_:1})]),_:1}),t(s(D),null,{default:n(()=>[t(s(G),{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=l=>c.value=l),orientation:"vertical","data-orientation":"vertical"},{default:n(()=>[t(s(U),{class:"flex-col flex w-full h-fit gap-y-(--margin-xxs)"},{default:n(()=>[(o(!0),i(p,null,g(m.value,l=>(o(),j(s(F),{class:"w-full",value:l.key,key:l.key,onClick:_=>O(l.key)},{default:n(()=>[$(B(l.message),1)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),h("div",K,[h("div",Q,[t(s(J),{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),class:"w-[400px]",placeholder:"请输入关键字进行搜索"},null,8,["modelValue"])]),h("div",W,[t(s(T),{class:"w-full h-full",id:"scrollAreaEl"},{default:n(()=>[f.value.length===0?(o(!0),i(p,{key:0},g(w.value,(l,_)=>(o(),j(s(V),{key:l.key,class:X(`${_===w.value.length-1?"mt-0":"mb-(--margin-xl)"}`),id:`${x}${l.key}`},{default:n(()=>[t(s(E),null,{default:n(()=>[t(s(I),{class:"app_page_title w-full font-bold text-2xl"},{default:n(()=>[$(B(l.name),1)]),_:2},1024)]),_:2},1024),t(s(D),null,{default:n(()=>[h("div",Y,[(o(!0),i(p,null,g(l.children,v=>(o(),i("div",{key:v.key},[t(S,{data:v},null,8,["data"])]))),128))])]),_:2},1024)]),_:2},1032,["class","id"]))),128)):(o(),i("div",Z,[(o(!0),i(p,null,g(f.value,l=>(o(),i("div",{key:l.key},[t(S,{data:l},null,8,["data"])]))),128))]))]),_:1})])])]))}});export{ue as default};
